
<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="title" content="paul::imedit documentation">
<meta name="author" content="Detlef Groth, University of Potsdam, Germany">
    
<title>paul::imedit documentation</title>
    
    

<style>
@import url("data:text/css;base64,ICAgIGh0bWwgewogICAgICAgIG92ZXJmbG93LXk6IHNjcm9sbDsKICAgIH0KICAgIGJvZHkgewogICAgICAgIGNvbG9yOiAjNDQ0OwogICAgICAgIGZvbnQtZmFtaWx5OiBHZW9yZ2lhLCBQYWxhdGlubywgJ1BhbGF0aW5vIExpbm90eXBlJywgVGltZXMsICdUaW1lcyBOZXcgUm9tYW4nLCBzZXJpZjsKICAgICAgICBsaW5lLWhlaWdodDogMS4yOwogICAgICAgIHBhZGRpbmc6IDFlbTsKICAgICAgICBtYXJnaW46IGF1dG87CiAgICAgICAgbWF4LXdpZHRoOiAgMTAwMHB4OwogICAgfQogICAgYSB7CiAgICAgICAgY29sb3I6ICMwNjQ1YWQ7CiAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwogICAgfQogICAgYTp2aXNpdGVkIHsKICAgICAgICBjb2xvcjogIzBiMDA4MDsKICAgIH0KICAgIGE6aG92ZXIgewogICAgICAgIGNvbG9yOiAjMDZlOwogICAgfQogICAgYTphY3RpdmUgewogICAgICAgIGNvbG9yOiAjZmFhNzAwOwogICAgfQogICAgYTpmb2N1cyB7CiAgICAgICAgb3V0bGluZTogdGhpbiBkb3R0ZWQ7CiAgICB9CiAgICAjYWJzdHJhY3QgewogICAgICAgIG1hcmdpbjogMi41ZW07CiAgICAgICAgZm9udC1zaXplOiA3MCU7CiAgICB9CiAgICBwIHsKICAgICAgICBtYXJnaW46IDAuNWVtIDA7CiAgICB9CiAgICBwLmRhdGUgewogICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgIH0KICAgIGltZyB7CiAgICAgICAgbWF4LXdpZHRoOiAxMDAlOwogICAgfQogICAgCiAgICBoMSwgaDIsIGgzLCBoNCwgaDUsIGg2IHsKICAgICAgICBjb2xvcjogIzExMTsKICAgICAgICBsaW5lLWhlaWdodDogMTE1JTsKICAgICAgICBtYXJnaW4tdG9wOiAxZW07CiAgICAgICAgZm9udC13ZWlnaHQ6IG5vcm1hbDsKICAgIH0KICAgIGgxIHsKICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICB9CiAgICBoNC5hdXRob3IsIGg0LmRhdGUsIHAuYXV0aG9yLCBwLmRhdGUgewogICAgICAgIGZvbnQtc2l6ZTogMTEwJTsKICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICB9CiAgICBoMi5hdXRob3IsIGgyLmRhdGUsIHAuYXV0aG9yLCBwLmRhdGUgewogICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgIH0KICAgIAogICAgcHJlLCBibG9ja3F1b3RlIHByZSB7CiAgICAgICAgYm9yZGVyLXRvcDogMC4xZW0gIzlhYyBzb2xpZDsKICAgICAgICBiYWNrZ3JvdW5kOiAjZTlmNmZmOwogICAgICAgIHBhZGRpbmc6IDEwcHg7CiAgICAgICAgbWFyZ2luLWxlZnQ6IDUwcHg7CiAgICAgICAgYm9yZGVyLWJvdHRvbTogMC4xZW0gIzlhYyBzb2xpZDsKICAgIH0KICAgIAogICAgYmxvY2txdW90ZSB7CiAgICAgICAgbWFyZ2luOiAwOwogICAgICAgIHBhZGRpbmctbGVmdDogM2VtOyAKICAgIH0KICAgIAogICAgaHIgewogICAgICAgIGRpc3BsYXk6IGJsb2NrOwogICAgICAgIGhlaWdodDogMnB4OwogICAgICAgIGJvcmRlcjogMDsKICAgICAgICBib3JkZXItdG9wOiAxcHggc29saWQgI2FhYTsKICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2VlZTsKICAgICAgICBtYXJnaW46IDFlbSAwOwogICAgICAgIHBhZGRpbmc6IDA7CiAgICB9CiAgICAKICAgIHByZSwgY29kZSwga2JkLCBzYW1wIHsKICAgICAgICBjb2xvcjogIzAwMDsKICAgICAgICBmb250LWZhbWlseTogTW9uYWNvLCAnY291cmllciBuZXcnLCBtb25vc3BhY2U7CiAgICAgICAgZm9udC1zaXplOiA5MCU7IAogICAgfQogICAgY29kZS5yIHsKICAgICAgICBjb2xvcjogIzc3MDAwMDsKICAgIH0KICAgIHByZSB7CiAgICAgICAgd2hpdGUtc3BhY2U6IHByZTsKICAgICAgICB3aGl0ZS1zcGFjZTogcHJlLXdyYXA7CiAgICAgICAgd29yZC13cmFwOiBicmVhay13b3JkOwogICAgfQogICAgLyogZml4LCBkbyBub3QgbGlrZSBib2xkIGZvciBldmVyeSBrZXl3b3JkICovCiAgICBjb2RlIHNwYW4ua3cgeyBjb2xvcjogIzAwNzAyMDsgZm9udC13ZWlnaHQ6IG5vcm1hbDsgfSAvKiBLZXl3b3JkICovCiAgICAgcHJlLnNvdXJjZUNvZGUgewogICAgICAgIGJhY2tncm91bmQ6ICNmZmY2ZjY7CiAgICB9IAogICAgZmlndXJlLCBwLmF1dGhvciB7CiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgfQogICAgdGggeyBiYWNrZ3JvdW5kLWNvbG9yOiAjZGRkIDsgIH0KICAgIHRoZWFkIHRyIHsgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkOyB9CiAgICB0YWJsZSB7ICAKICAgICAgICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlOyAKICAgICAgICBib3JkZXItYm90dG9tOiAycHggc29saWQ7CiAgICAgICAgYm9yZGVyLXRvcDogMnB4IHNvbGlkOwogICAgfQogICAgICB0aDpmaXJzdC1jaGlsZCB7CgogICAgICB9CiAgICB0aCwgdGQgewogICAgICAgIHRleHQtYWxpZ246IGxlZnQ7CiAgICAgICAgcGFkZGluZzogOHB4OwogICAgfQoKICAgIHRyOm50aC1jaGlsZChldmVuKSB7YmFja2dyb3VuZC1jb2xvcjogI2YyZjJmMjt9Cg==");
</style>

    
</head>
<body>
    



<h1 class="title">paul::imedit documentation</h1>
<h2 class="author">Detlef Groth, University of Potsdam, Germany</h2>
<h2 class="date">2025-03-06</h2>

<p><center>
<a href="basegui.html">basegui</a> - <a
href="cbmixins.html">cbmixins</a> - <a href="dlabel.html">dlabel</a> -
<a href="history.html">history</a> - <a href="htext.html">htext</a> - <a
href="imedit.html">imedit</a> - <a href="labentry.html">labentry</a> -
<a href="notebook.html">notebook</a> - <a href="rotext.html">rotext</a>
- <a href="statusbar.html">statusbar</a> - <a
href="tvmixins.html">tvmixins</a> - <a href="txmixins.html">txmixins</a>
</center></p>

<h2>NAME</h2>

<p><strong>paul::imedit</strong> - imedit widget for Tk applications based on a paul::labentry for entering
a command line to create an image, tk::text to write the image cde commands and ttk::label
to display the image.</p>

<h2><a name='toc'></a>Table of Contents</h2>

<ul>
<li><a href="#synopsis">SYNOPSIS</a></li>
<li><a href="#description">DESCRIPTION</a></li>
<li><a href="#command">COMMAND</a></li>
<li><a href="#options">WIDGET OPTIONS</a></li>
<li><a href="#commands">WIDGET COMMANDS</a></li>
<li><a href="#example">EXAMPLE</a></li>
<li><a href="#see">SEE ALSO</a></li>
<li><a href="#authors">AUTHOR</a></li>
<li><a href="#copyright">COPYRIGHT</a></li>
<li><a href="#license">LICENSE</a>
 </li></ul>

<h2><a name='synopsis'></a>SYNOPSIS</h2>

<pre class='code'><code>package require paul
paul::imedit pathName options
pathName labentry entry configure options
pathName labentry label configure options
pathName text configure options
pathName label configure options</code></pre>

<h2><a name='description'></a>DESCRIPTION</h2>

<p><strong>paul::imedit</strong> - is a composite widget consisting of a <a href="labentry.html">paul::labentry</a> to 
allow the user to enter a command line command to create an image using a terminal tool like
GraphViz dot, PlantUML etc, a <a href="https://www.tcl-lang.org/man/tcl8.6/TkCmd/text.htm">tk::text</a> 
widget to enter the graphics creation code and a <a href="https://www.tcl-lang.org/man/tcl8.6/TkCmd/ttk_label.htm">[ttk::label</a>
widget to display that image. It is a proof of principle widget that paul widgets can be used as
component of megawidgets, so that we can build megawidgets based on other megawidgets.</p>

<p>This is a proof of principle example widget, to demonstrate the composition of a megawidget
based on a paul package megawidget and standard Tk widgets. The UML schema for this widget is
shown below:</p>

<p><img src="https://kroki.io/plantuml/svg/eNp1UFsOwiAQ_OcUG7_Uphfgw1N4AdqSpgHbRrZR03B3eacg8sXM7M7O7sp6wUYOJ1iW1zSMHJX57wTM6yVTKvGwgyaarKlhZZt0tb7OQkqnBx8mDAYNIH_j-RKAZB2XGZrx-TGEsT16RMW7NBDLMpM8y10ckqCg1A52iQNlOddakt2GuMywaziyYb4dkvZv21sRsKb5A5DsGu21bMxlo8fMFSVF_6P5DUhxu2rrr-rgFwpap6o="></img></p>

<h2><a name='command'></a>COMMAND</h2>

<p><strong>paul::imedit</strong> <em>pathName ?options?</em></p>

<blockquote>
<p>Creates and configures a new <code>paul::imedit</code> widget  using the Tk window id <em>pathName</em> and the given <em>options</em>.</p>
</blockquote>

<h2><a name='options'></a>WIDGET OPTIONS</h2>

<p>The <strong>paul::imedit</strong> widget is a composite widget where the options 
are delegated to the original widgets. In addition to the default options the following option(s)
are added :</p>

<ul>
<li><strong>-commandline</strong> - the text which should be aded to the entry widget as the command line and which is executed if the 
  code in the text widget is saved</li>
<li><strong>-filename</strong> - the file which should be opened into the text widget to be edited by the user</li>
<li><strong>-filetypes</strong> - the filetypes used for the file open and file save dialogs, default to dot, pml, txt and all files.</li>
<li><strong>-labeltext</strong> - the text which should be displayed in the label widget left from the command line entry widget</li>
<li><strong>-pane</strong> - orientation of the paned window widget, either horizontal or vertical, default: vertical</li>
<li><strong>-statuslabel</strong> - an optional label widget to display status messages

</li></ul>

<h2><a name='commands'></a>WIDGET COMMANDS</h2>

<p>Each <strong>paul::imedit</strong> widget supports its own as well via the 
<em>pathName labentry cmd</em>, <em>pathName text cmd</em>  and <em>pathName label</em> syntax 
all the commands of its component widgets.</p>

<p><em>pathName</em> <strong>button</strong> <em>?args?</em></p>

<blockquote>
<p>Delegates all given methods to the internal ttk::button, if no argument is
  given returns the widget itself</p>
</blockquote>

<p><em>pathName</em> <strong>execute</strong></p>

<blockquote>
<p>Execute the command entered in the entry widget using the text which is written
  into text widget. The commandline entered in the entry widget should contain place holders
  for the input file (%i) and a possible output file (%o). 
  If you need the filename without the file extension you can use %b. 
  If the command does not need an output filename
  because it creates an filename based on the input file with the png extension automatically
  added, then no output filename is required.</p>
</blockquote>

<p><em>pathName</em> <strong>file_new</strong></p>

<blockquote>
<p>Creates a new emtpy file, the internal filename will be configured to new.</p>
</blockquote>

<p><em>pathName</em> <strong>file_open</strong> <em>?filename?</em></p>

<blockquote>
<p>Open the given file in the text widget. If no filename is given will either use the configured filename or if this
  is as well not given opens a file dialog for selecting a file.</p>
</blockquote>

<p><em>pathName</em> <strong>file_save</strong>  <em>?filename?</em></p>

<blockquote>
<p>Saves the current file.</p>
</blockquote>

<p><em>pathName</em> <strong>file_save_as</strong> <em>?intialfile?</em></p>

<blockquote>
<p>Ask for a new filename and save the content of the text widget to it.
  If intialfile argument is given sets this as the default for saving.</p>
</blockquote>

<p><em>pathName</em> <strong>image_display</strong> <em>imgfile</em></p>

<blockquote>
<p>Displays the given image file in the label.</p>
</blockquote>

<p><em>pathName</em> <strong>label</strong> <em>?args?</em></p>

<blockquote>
<p>Delegates all given methods to the internal ttk::label widget, if no argument is
  given returns the widget itself</p>
</blockquote>

<p><em>pathName</em> <strong>labentry</strong> <em>?args?</em></p>

<blockquote>
<p>Delegates all given methods to the internal pauL::labentry widget, if no argument is
  given returns the widget itself</p>
</blockquote>

<p><em>pathName</em> <strong>optfile_init</strong></p>

<blockquote>
<p>Initializes a folder imedit into the user configuation folder, on Unix usually .config
  where for every file extension .dot, .pml, .r, .pik, .sgf etc an file with the extension
 opt is created. These files contain the default command line argument for the given
 file type. Users can place there own defaults in this folder.</p>
</blockquote>

<p><em>pathName</em> <strong>optfile_read</strong> <em>?ext?</em></p>

<blockquote>
<p>Reads for the current loaded file or for the given extension <em>ext</em> the default command line
  arguments and fills with this the entry widget. If no defaults are found for the current
  file type it intializes to `your-command %i %o&quot;.</p>
</blockquote>

<p><em>pathName</em> <strong>text</strong> <em>?args?</em></p>

<blockquote>
<p>Delegates all given methods to the internal tk::text widget, if no argument is
  given returns the widget itself</p>
</blockquote>

<h2><a name='example'></a>EXAMPLE</h2>

<pre class='code'><code class='tclinn'>package require paul
wm title . DGApp
ttk::label .lb -text &quot;...&quot;
pack [paul::imedit .ie -commandline &quot;dot -Tpng %i -o %o&quot; -statuslabel .lb -pane vertical]  \
      -side top -fill both -expand yes \
 
.ie labentry configure -labeltext &quot;Command Line: &quot;
.ie text insert 1.0 &quot;digraph g { A -&gt; B } \n&quot;
pack .lb -side top -fill x -padx 5 -pady 5
update idletasks

#after 10000 exit</code></pre>

<h2><a name='see'></a>SEE ALSO</h2>

<ul>
<li><a href="../oowidgets/oowidgets.html">oowidgets</a></li>
<li><a href="labentry.html">paul::labentry</a></li>
<li><a href="https://www.tcl.tk/man/tcl8.6/TkCmd/ttk_entry.htm">ttk::entry</a></li>
<li><a href="https://www.tcl.tk/man/tcl8.6/TkCmd/ttk_entry.htm">ttk::label</a></li>
<li><a href="https://www.tcl.tk/man/tcl8.6/TkCmd/text.htm">ttk::text</a>
</li></ul>

<h2><a name='authors'></a>AUTHOR</h2>

<p>The <strong>paul::imedit</strong> widget was written by Detlef Groth, University of Potsdam, Germany.</p>

<h2><a name='copyright'></a>COPYRIGHT</h2>

<p>Copyright (c) 2025  Detlef Groth, E-mail: detlef(at)dgroth(dot)de</p>

<h2><a name='license'></a>LICENSE</h2>

<pre class='code'><code class='tclout'>BSD 3-Clause License

Copyright (c) 2021-2025, Detlef Groth, University of Potsdam, Germany

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

1. Redistributions of source code must retain the above copyright notice, this
   list of conditions and the following disclaimer.

2. Redistributions in binary form must reproduce the above copyright notice,
   this list of conditions and the following disclaimer in the documentation
   and/or other materials provided with the distribution.

3. Neither the name of the copyright holder nor the names of its
   contributors may be used to endorse or promote products derived from
   this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot;
AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</code></pre>



</body>
</html>

