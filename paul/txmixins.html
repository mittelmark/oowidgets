
<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="title" content="paul::tx - mixins for the tk::text widget">
<meta name="author" content="Detlef Groth, Schwielowsee, Germany">
    
<title>paul::tx - mixins for the tk::text widget</title>
    
    

<style>
@import url("data:text/css;base64,ICAgIGh0bWwgewogICAgICAgIG92ZXJmbG93LXk6IHNjcm9sbDsKICAgIH0KICAgIGJvZHkgewogICAgICAgIGNvbG9yOiAjNDQ0OwogICAgICAgIGZvbnQtZmFtaWx5OiBHZW9yZ2lhLCBQYWxhdGlubywgJ1BhbGF0aW5vIExpbm90eXBlJywgVGltZXMsICdUaW1lcyBOZXcgUm9tYW4nLCBzZXJpZjsKICAgICAgICBsaW5lLWhlaWdodDogMS4yOwogICAgICAgIHBhZGRpbmc6IDFlbTsKICAgICAgICBtYXJnaW46IGF1dG87CiAgICAgICAgbWF4LXdpZHRoOiAgMTAwMHB4OwogICAgfQogICAgYSB7CiAgICAgICAgY29sb3I6ICMwNjQ1YWQ7CiAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwogICAgfQogICAgYTp2aXNpdGVkIHsKICAgICAgICBjb2xvcjogIzBiMDA4MDsKICAgIH0KICAgIGE6aG92ZXIgewogICAgICAgIGNvbG9yOiAjMDZlOwogICAgfQogICAgYTphY3RpdmUgewogICAgICAgIGNvbG9yOiAjZmFhNzAwOwogICAgfQogICAgYTpmb2N1cyB7CiAgICAgICAgb3V0bGluZTogdGhpbiBkb3R0ZWQ7CiAgICB9CiAgICAjYWJzdHJhY3QgewogICAgICAgIG1hcmdpbjogMi41ZW07CiAgICAgICAgZm9udC1zaXplOiA3MCU7CiAgICB9CiAgICBwIHsKICAgICAgICBtYXJnaW46IDAuNWVtIDA7CiAgICB9CiAgICBwLmRhdGUgewogICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgIH0KICAgIGltZyB7CiAgICAgICAgbWF4LXdpZHRoOiAxMDAlOwogICAgfQogICAgCiAgICBoMSwgaDIsIGgzLCBoNCwgaDUsIGg2IHsKICAgICAgICBjb2xvcjogIzExMTsKICAgICAgICBsaW5lLWhlaWdodDogMTE1JTsKICAgICAgICBtYXJnaW4tdG9wOiAxZW07CiAgICAgICAgZm9udC13ZWlnaHQ6IG5vcm1hbDsKICAgIH0KICAgIGgxIHsKICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICB9CiAgICBoNC5hdXRob3IsIGg0LmRhdGUsIHAuYXV0aG9yLCBwLmRhdGUgewogICAgICAgIGZvbnQtc2l6ZTogMTEwJTsKICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICB9CiAgICBoMi5hdXRob3IsIGgyLmRhdGUsIHAuYXV0aG9yLCBwLmRhdGUgewogICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgIH0KICAgIAogICAgcHJlLCBibG9ja3F1b3RlIHByZSB7CiAgICAgICAgYm9yZGVyLXRvcDogMC4xZW0gIzlhYyBzb2xpZDsKICAgICAgICBiYWNrZ3JvdW5kOiAjZTlmNmZmOwogICAgICAgIHBhZGRpbmc6IDEwcHg7CiAgICAgICAgbWFyZ2luLWxlZnQ6IDUwcHg7CiAgICAgICAgYm9yZGVyLWJvdHRvbTogMC4xZW0gIzlhYyBzb2xpZDsKICAgIH0KICAgIAogICAgYmxvY2txdW90ZSB7CiAgICAgICAgbWFyZ2luOiAwOwogICAgICAgIHBhZGRpbmctbGVmdDogM2VtOyAKICAgIH0KICAgIAogICAgaHIgewogICAgICAgIGRpc3BsYXk6IGJsb2NrOwogICAgICAgIGhlaWdodDogMnB4OwogICAgICAgIGJvcmRlcjogMDsKICAgICAgICBib3JkZXItdG9wOiAxcHggc29saWQgI2FhYTsKICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2VlZTsKICAgICAgICBtYXJnaW46IDFlbSAwOwogICAgICAgIHBhZGRpbmc6IDA7CiAgICB9CiAgICAKICAgIHByZSwgY29kZSwga2JkLCBzYW1wIHsKICAgICAgICBjb2xvcjogIzAwMDsKICAgICAgICBmb250LWZhbWlseTogTW9uYWNvLCAnY291cmllciBuZXcnLCBtb25vc3BhY2U7CiAgICAgICAgZm9udC1zaXplOiA5MCU7IAogICAgfQogICAgY29kZS5yIHsKICAgICAgICBjb2xvcjogIzc3MDAwMDsKICAgIH0KICAgIHByZSB7CiAgICAgICAgd2hpdGUtc3BhY2U6IHByZTsKICAgICAgICB3aGl0ZS1zcGFjZTogcHJlLXdyYXA7CiAgICAgICAgd29yZC13cmFwOiBicmVhay13b3JkOwogICAgfQogICAgLyogZml4LCBkbyBub3QgbGlrZSBib2xkIGZvciBldmVyeSBrZXl3b3JkICovCiAgICBjb2RlIHNwYW4ua3cgeyBjb2xvcjogIzAwNzAyMDsgZm9udC13ZWlnaHQ6IG5vcm1hbDsgfSAvKiBLZXl3b3JkICovCiAgICAgcHJlLnNvdXJjZUNvZGUgewogICAgICAgIGJhY2tncm91bmQ6ICNmZmY2ZjY7CiAgICB9IAogICAgZmlndXJlLCBwLmF1dGhvciB7CiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgfQogICAgdGggeyBiYWNrZ3JvdW5kLWNvbG9yOiAjZGRkIDsgIH0KICAgIHRoZWFkIHRyIHsgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkOyB9CiAgICB0YWJsZSB7ICAKICAgICAgICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlOyAKICAgICAgICBib3JkZXItYm90dG9tOiAycHggc29saWQ7CiAgICAgICAgYm9yZGVyLXRvcDogMnB4IHNvbGlkOwogICAgfQogICAgICB0aDpmaXJzdC1jaGlsZCB7CgogICAgICB9CiAgICB0aCwgdGQgewogICAgICAgIHRleHQtYWxpZ246IGxlZnQ7CiAgICAgICAgcGFkZGluZzogOHB4OwogICAgfQoKICAgIHRyOm50aC1jaGlsZChldmVuKSB7YmFja2dyb3VuZC1jb2xvcjogI2YyZjJmMjt9Cg==");
</style>

    
</head>
<body>
    



<h1 class="title">paul::tx - mixins for the tk::text widget</h1>
<h2 class="author">Detlef Groth, Schwielowsee, Germany</h2>
<h2 class="date">2025-02-16</h2>

<p><center>
<a href="basegui.html">basegui</a> - <a href="dlabel.html">dlabel</a> -
<a href="imedit.html">imedit</a> - <a href="labentry.html">labentry</a>
- <a href="notebook.html">notebook</a> - <a
href="rotext.html">rotext</a> - <a href="statusbar.html">statusbar</a> -
<a href="tvmixins.html">tvmixins</a> - <a
href="txmixins.html">txmixins</a>
</center></p>

<h2>NAME</h2>

<blockquote>
<p><strong>paul::tx</strong> - oo::class mixins for the tk::text widget</p>

<p>The following mixins are implemented:</p>

<ul>
<li><a href="#txautorep">paul::txautorep</a> - abbreviation tool for text widgets</li>
<li><a href="#txfileproc">paul::txfileproc</a> - file-save, file-new, file-open etc procedures for the text widget</li>
<li><a href="#txindent">paul::txindent</a> - automatic indentation for text widgets</li>
<li><a href="#txmatching">paul::txmatching</a> - hilight matching parenthesis, brackets or braces</li>
<li><a href="#txunicode">paul::txunicode</a> - entering Unicode characters</li></ul>


</blockquote>

<h2><a name='synopsis'></a> SYNOPSIS</h2>

<pre class='code'><code>package require paul
set txt [tkoo::text pathName ?option value ...?
oo::objdefine $txt mixin Mixin ?Mixin ...?
$txtmixinmethod ?option value ...?
pack $txt </code></pre>

<h2><a name='example'></a> EXAMPLE</h2>

<pre class='code'><code class='tclinn'>package require paul
set txt [tkoo::text .txtx -background salmon]
oo::objdefine $txt mixin ::paul::txautorep
$txt autorep [list (TM) \u2122 (C) \u00A9 (R) \u00AE (K) \u2654]
$txt insert end &quot;# Autorep Example\n\n&quot;
foreach col [list A B C] { 
   $txt insert  end &quot;# Header $col\n\n   Some more text.\n\n&quot;
}
$txt insert end &quot;  * item 1\n  * item 2\n  * Write (DG) and press enter\n  * &quot;
pack $txt -side top -fill both -expand yes
set txt [tkoo::text .txty -background skyblue]
foreach col [list A B C] { 
   $txt insert  end &quot;# Header $col\n\n## Indent example\n\n&quot;
}
$txt insert end &quot;  * item 1\n  * item 2 (press return here)&quot;
oo::objdefine $txt mixin paul::txindent paul::txfileproc
$txt indent
$txt fileproc 
$txt file_open
pack $txt -side top -fill both -expand yes</code></pre>

<h2><a name='mixins'></a> MIXINS</h2>

<p><a name="txautorep"></a><strong>paul::txautorep</strong> -  <em>oo::objdefine pathName mixin paul::txautorep</em></p>

<p>Adds abbreviation support to an existing <em>tkoo::text</em> widget, which is a wrapper for the <em>tk::text</em> widget using the Tk window id <em>pathName</em> .
The widget indents every new line based on the initial indention of the previous line.
Based on code in the Wiki page https://wiki.tcl-lang.org/page/autoreplace started by Richard Suchenwirth.</p>

<p>Example:</p>

<pre class='code'><code class='tclinn'>package require paul
set txt [tkoo::text .txta -background salmon]
oo::objdefine $txt mixin ::paul::txautorep
$txt autorep [list (TM) \u2122 (C) \u00A9 (R) \u00AE (K) \u2654]
$txt insert end &quot;# Autorep Example\n\n&quot;
foreach col [list A B C] { 
   $txt insert  end &quot;# Header $col\n\n   Some more text.\n\n&quot;
}
$txt insert end &quot;  * item 1\n  * item 2\n  * Write (DG) and press enter\n  * &quot;
pack $txt -side top -fill both -expand yes</code></pre>

<p><a name="txfileproc"></a><strong>paul::txfileproc</strong> -  <em>oo::objdefine pathName mixin paul::txfileproc</em></p>

<p>Adds methods to load and save the content of the text widget from and to files. The following methods are available</p>

<ul>
<li><em>cmdName</em> - <strong>fileproc</strong> <em>?args?</em> 
</li></ul>

<blockquote>
<p>initialize the fileproc mixin with the given arguments the following arguments are supported:</p>

<ul>
<li><em>filecallback</em> - the command  executed if a file is loaded or saved, default: empty string</li>
<li><em>filetypes</em> - the default file type list for opening and saving files</li>
<li><em>filename</em> - the file to load per default, if the string new is given, will create a new empty file</li></ul>


</blockquote>

<p>Example:</p>

<pre class='code'><code class='tclinn'>package require paul
set txt [tkoo::text .txtfp -background salmon]
oo::objdefine $txt mixin ::paul::txfileproc
$txt fileproc
$txt file_open
pack $txt -side top -fill both -expand yes</code></pre>

<ul>
<li><em>cmdName</em> - <strong>file_exit</strong> 
</li></ul>

<blockquote>
<p>Asks the user to save the file if it was modified in the text widget.
  then exits the application.
  If there is no file name set until now, a file dialog will be displayed
  to allow the user to select its file.</p>
</blockquote>

<ul>
<li><em>cmdName</em> - <strong>file_get</strong>
</li></ul>

<blockquote>
<p>Returns the  filename of the currently loaded file.</p>
</blockquote>

<ul>
<li><em>cmdName</em> - <strong>file_new</strong>
</li></ul>

<blockquote>
<p>Creates a new emtpy file. If the current file was modified the 
  uuser is asked to save the file before loading a new file.</p>
</blockquote>

<ul>
<li><em>cmdName</em> - <strong>file_open</strong> <em>?filename?</em>
</li></ul>

<blockquote>
<p>Opens a new file which is selected by the user. If the current file was modified the 
  user is asked to save the file before loading the file. If there is no file name given
  the a file dialog will be displayed to allow the user to select its file.</p>
</blockquote>

<ul>
<li><em>cmdName</em> - <strong>file_recent</strong> 
</li></ul>

<blockquote>
<p>Returns a list of the recently edited files.</p>
</blockquote>

<ul>
<li><em>cmdName</em> - <strong>file_save</strong>
</li></ul>

<blockquote>
<p>Saves  the content of the text widget into the currently loaded file.
  If there is no file name set until now, a file dialog will be displayed
  to allow the user to select its file.</p>
</blockquote>

<ul>
<li><em>cmdName</em> - <b>file_save_as</b>
</li></ul>

<blockquote>
<p>Saves  the content of the text widget into the file selected by the user.</p>
</blockquote>

<p><a name="txindent"></a><strong>paul::txindent</strong> -  <em>oo::objdefine pathName mixin paul::txindent</em></p>

<p>Adds indenting capabilities to an existing <em>tkoo::text</em> widget, which is a wrapper for the <em>tk::text</em> widget using the Tk window id <em>pathName</em> .
The widget indents every new line based on the initial indention of the previous line.
Based on code in the Wiki page https://wiki.tcl-lang.org/page/auto-indent started by Richard Suchenwirth.</p>

<p>Example:</p>

<pre class='code'><code class='tclinn'>package require paul
set txt [tkoo::text .txti -background skyblue]
foreach col [list A B C] { 
   $txt insert  end &quot;# Header $col\n\n   Some more text.\n\n&quot;
}
$txt insert end &quot;  * item 1\n  * item 2 (press return here)&quot;
oo::objdefine $txt mixin paul::txindent
$txt indent
pack $txt -side top -fill both -expand yes</code></pre>

<p><a name="txmatching"></a><strong>paul::txmatching</strong> -  <em>oo::objdefine pathName mixin paul::txmatching</em></p>

<p>Adds a matching parenthesis, brackets or braces behaviour.
If the user enters an unmatched parenthesis, bracket or brace it is highlighted,
if the matching closing character is entered it the region between these two characters
is shortly highlighted and thereafter the higlighting is removed.
Based on code in the Wiki page https://wiki.tcl-lang.org/page/Tk+Text+Window+Brace+Parenthesis%2C+and+Bracket+Matching</p>

<p>Example:</p>

<pre class='code'><code class='tclinn'>package require paul
set txt [tkoo::text .txtm -background salmon -font &quot;Courier 18&quot;]
$txt insert  end &quot;Start typing some text containing\n&quot; 
$txt insert end &quot;* parenthesis ( and )\n&quot;
$txt insert end &quot;* brackets    \[ and \]\n&quot;
$txt insert end &quot;* braces      { and }\n\n&quot;
$txt insert end &quot;Unicode adding works as well\nPress Ctrl-Shift-u and then write 4 digits ...\n\n&quot;
oo::objdefine $txt mixin paul::txmatching paul::txunicode
$txt matchbrace
$txt matchparen
$txt matchbracket
$txt unicode Control-Key-U
pack $txt -side top -fill both -expand yes
### adding your own additional bindings is still possible
bind $txt &lt;KeyRelease&gt; +[list puts &quot;now pressed %K&quot;]</code></pre>

<p><a name="txunicode"></a><strong>paul::txunicode</strong> -  <em>oo::objdefine pathName mixin paul::txunicode</em></p>

<p>Adds the capability to enter Unicode symbols to an existing <em>tkoo::text</em> widget, which is a wrapper for the <em>tk::text</em> widget using the Tk window id <em>pathName</em> .
If the user presses the default Keystroke Control-u he/she can enter after typing the four Unicode numbers
Unicode characters.
Based on code in the Wiki page https://wiki.tcl-lang.org/page/Entering+Unicode+characters+in+a+widget</p>

<p>Example:</p>

<pre class='code'><code class='tclinn'>package require paul
set txt [tkoo::text .txtu -background grey80 -font &quot;Courier 18&quot;]
$txt insert  end &quot;Press Ctrl-Shift-u and then therafter 4 numbers like 2602\n\n&quot;
oo::objdefine $txt mixin paul::txunicode
$txt unicode Control-Key-U
pack $txt -side top -fill both -expand yes</code></pre>

<h2><a name='see'></a> SEE ALSO</h2>

<ul>
<li><a href="../oowidgets/oowidgets.html">oowidgets</a></li>
<li><a href="basegui.html">paul::basegui.tcl</a>
</li></ul>

<h2><a name='authors'></a> AUTHOR</h2>

<p>The <strong>paul::tx</strong> mixins were written by Detlef Groth, University of Potsdam, Germany.</p>

<h2><a name='copyright'></a>COPYRIGHT</h2>

<p>Copyright (c) 2021-2025  Detlef Groth, E-mail: dgroth(at)uni(minus)potsdam(dot)de</p>

<h2><a name='license'></a>LICENSE </h2>

<pre class='code'><code class='tclout'>BSD 3-Clause License

Copyright (c) 2021-2024, Detlef Groth, University of Potsdam, Germany

Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:

1. Redistributions of source code must retain the above copyright notice, this
   list of conditions and the following disclaimer.

2. Redistributions in binary form must reproduce the above copyright notice,
   this list of conditions and the following disclaimer in the documentation
   and/or other materials provided with the distribution.

3. Neither the name of the copyright holder nor the names of its
   contributors may be used to endorse or promote products derived from
   this software without specific prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS &quot;AS IS&quot;
AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</code></pre>



</body>
</html>

